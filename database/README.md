# 数据库

### 1、事务隔离级别

- 读未提交（Read Uncommitted）：允许一个事务读取另一个事务尚未提交的数据，可能会出现脏读、不可重复读和幻读问题。

- 读已提交（Read Committed）：一个事务只能读取另一个事务已经提交的数据，避免了脏读问题，但仍有不可重复读和幻读问题。

- 可重复读（Repeatable Read）：一个事务在执行期间看到的数据，总是跟这个事务在启动时看到的数据一致，避免了不可重复读和脏读问题，但仍有幻读问题。

- 序列化（Serializable）：把并发的事务串行执行，避免了脏读、不可重复读和幻读问题，但并发性能较差。

### 2、幻读

幻读问题指的是在数据库事务中，第一次读取了一组数据，之后在同一事务内再次读取相同的数据，却发现这些数据已经被其他事务插入或删除了，导致第二次读取到的数据和第一次读取到的数据不同，就好像出现了幻觉一样，因此称之为幻读。

举个例子，假设一个事务查询了一个年龄大于18岁的学生的信息，然后再次查询时，却发现年龄大于18岁的学生数量比第一次查询多了几个，这就是幻读。

幻读问题通常出现在高并发、大数据量、复杂的SQL查询和DML语句操作下。幻读问题的产生原因是在并发事务的情况下，多个事务同时对同一数据进行更新、删除、插入等操作时，如果没有采用足够严格的隔离级别，就会导致幻读问题的出现。

为了避免幻读问题，需要采用更高的事务隔离级别，比如Serializable级别。此外，也可以使用乐观锁或悲观锁等机制来避免幻读问题的发生。

### 3、MySQL中锁一行数据时如果没有唯一索引，会出现什么情况？

整张表都会被锁