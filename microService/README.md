# 微服务

### 1、什么是微服务？

微服务是一种架构风格，将一个大型的应用程序拆分为多个小型的、自治的服务，这些服务可以独立部署、独立运行、独立扩展，通过轻量级通信机制来实现协同工作，每个服务都围绕着业务能力构建，并且可以通过API的方式进行交互。这种架构风格可以让应用程序更加灵活、可维护和可扩展，同时也可以提高开发效率和部署效率。

### 2、为什么微服务西需要注册中心

引入注册中心是为了解决微服务架构中服务发现的问题。在微服务架构中，各个服务的数量庞大且动态变化，服务之间的依赖关系也比较复杂，因此需要一个中心化的服务注册与发现机制来管理服务的注册和发现。

通过向注册中心注册服务，其他服务可以从注册中心获取服务的信息，从而实现服务之间的相互调用。而且注册中心还可以提供负载均衡、故障转移、服务路由等功能，增强了服务治理的能力。

另外，注册中心还可以实现服务监控、日志分析等功能，帮助开发人员更好地管理和维护微服务系统。

### 3、为什么有http了还要有RPC

除了HTTP连接会消耗更多资源外，还有以下几个原因：

1. RPC通信可以基于TCP或UDP协议实现，而HTTP只能基于TCP协议，因此在一些对实时性要求较高的场景下，RPC比HTTP更加适用。

2. RPC通信中，数据的传输格式不限于文本，可以使用二进制、JSON、XML等多种格式，而HTTP主要使用文本格式，这也使得RPC在传输效率上有一定优势。

3. RPC框架通常都具有自己的序列化和反序列化机制，能够将复杂对象转化为二进制流进行传输，而HTTP在传输复杂对象时需要将其转化为文本格式，这对于数据的大小和传输效率都有一定影响。

4. 在一些需要调用远程服务的场景下，RPC通常比HTTP更加方便，因为RPC框架已经提供了通信协议和调用机制，只需要进行简单的配置即可使用，而使用HTTP需要自己实现通信和调用机制。